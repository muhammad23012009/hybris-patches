From 42cf72974048799c5a56a047026701d6a73d9318 Mon Sep 17 00:00:00 2001
From: TheKit <nekit1000@gmail.com>
Date: Tue, 10 Jan 2023 13:57:11 +0000
Subject: [PATCH 10/12] (halium) libpowermanager: statically link
 android.hardware.power

A hack to get libmediandk with Halium changes that pull in
libpowermanager to compile without violating APEX boundaries.

Change-Id: Ie7505c96a0c3b32f787c2c597855b63399101c73
---
 services/powermanager/Android.bp | 4 ++++
 1 file changed, 4 insertions(+)

diff --git a/services/powermanager/Android.bp b/services/powermanager/Android.bp
index 1f72e8b..f7c8a81 100644
--- a/services/powermanager/Android.bp
+++ b/services/powermanager/Android.bp
@@ -35,9 +35,13 @@ cc_library_shared {
     shared_libs: [
         "libbinder",
         "libbinder_ndk",
+        "libcutils",
         "libhidlbase",
         "liblog",
         "libutils",
+    ],
+
+    static_libs: [
         "android.hardware.power@1.0",
         "android.hardware.power@1.1",
         "android.hardware.power@1.2",
-- 
2.45.2

