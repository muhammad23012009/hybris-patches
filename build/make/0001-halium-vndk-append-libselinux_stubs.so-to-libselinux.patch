From 473f3340c279c1300a45bc943d153aec70d80f28 Mon Sep 17 00:00:00 2001
From: TheKit <nekit1000@gmail.com>
Date: Tue, 28 Dec 2021 22:36:02 +0300
Subject: [PATCH 1/2] (halium) vndk: append libselinux_stubs.so to
 libselinux.so entries

Change-Id: I422c84f5510ac57a59788d4f51ccb477d236f08a
---
 target/product/gsi/28.txt      | 1 +
 target/product/gsi/29.txt      | 1 +
 target/product/gsi/30.txt      | 1 +
 target/product/gsi/31.txt      | 1 +
 target/product/gsi/32.txt      | 1 +
 target/product/gsi/33.txt      | 1 +
 target/product/gsi/34.txt      | 1 +
 target/product/gsi/current.txt | 1 +
 8 files changed, 8 insertions(+)

diff --git a/target/product/gsi/28.txt b/target/product/gsi/28.txt
index 712e91c..457ede9 100644
--- a/target/product/gsi/28.txt
+++ b/target/product/gsi/28.txt
@@ -198,6 +198,7 @@ VNDK-core: libprotobuf-cpp-lite.so
 VNDK-core: libpuresoftkeymasterdevice.so
 VNDK-core: libradio_metadata.so
 VNDK-core: libselinux.so
+VNDK-core: libselinux_stubs.so
 VNDK-core: libsoftkeymasterdevice.so
 VNDK-core: libspeexresampler.so
 VNDK-core: libsqlite.so
diff --git a/target/product/gsi/29.txt b/target/product/gsi/29.txt
index 14faba5..88cf8c1 100644
--- a/target/product/gsi/29.txt
+++ b/target/product/gsi/29.txt
@@ -246,6 +246,7 @@ VNDK-core: libprotobuf-cpp-lite.so
 VNDK-core: libpuresoftkeymasterdevice.so
 VNDK-core: libradio_metadata.so
 VNDK-core: libselinux.so
+VNDK-core: libselinux_stubs.so
 VNDK-core: libsoftkeymasterdevice.so
 VNDK-core: libspeexresampler.so
 VNDK-core: libsqlite.so
diff --git a/target/product/gsi/30.txt b/target/product/gsi/30.txt
index 0589517..ac5e57a 100644
--- a/target/product/gsi/30.txt
+++ b/target/product/gsi/30.txt
@@ -15,6 +15,7 @@ LLNDK: libmediandk.so
 LLNDK: libnativewindow.so
 LLNDK: libneuralnetworks.so
 LLNDK: libselinux.so
+LLNDK: libselinux_stubs.so
 LLNDK: libsync.so
 LLNDK: libvndksupport.so
 LLNDK: libvulkan.so
diff --git a/target/product/gsi/31.txt b/target/product/gsi/31.txt
index 971ec92..beb69e3 100644
--- a/target/product/gsi/31.txt
+++ b/target/product/gsi/31.txt
@@ -15,6 +15,7 @@ LLNDK: libmediandk.so
 LLNDK: libnativewindow.so
 LLNDK: libneuralnetworks.so
 LLNDK: libselinux.so
+LLNDK: libselinux_stubs.so
 LLNDK: libsync.so
 LLNDK: libvndksupport.so
 LLNDK: libvulkan.so
diff --git a/target/product/gsi/32.txt b/target/product/gsi/32.txt
index 971ec92..beb69e3 100644
--- a/target/product/gsi/32.txt
+++ b/target/product/gsi/32.txt
@@ -15,6 +15,7 @@ LLNDK: libmediandk.so
 LLNDK: libnativewindow.so
 LLNDK: libneuralnetworks.so
 LLNDK: libselinux.so
+LLNDK: libselinux_stubs.so
 LLNDK: libsync.so
 LLNDK: libvndksupport.so
 LLNDK: libvulkan.so
diff --git a/target/product/gsi/33.txt b/target/product/gsi/33.txt
index 03a143d..8636677 100644
--- a/target/product/gsi/33.txt
+++ b/target/product/gsi/33.txt
@@ -15,6 +15,7 @@ LLNDK: libmediandk.so
 LLNDK: libnativewindow.so
 LLNDK: libneuralnetworks.so
 LLNDK: libselinux.so
+LLNDK: libselinux_stubs.so
 LLNDK: libsync.so
 LLNDK: libvndksupport.so
 LLNDK: libvulkan.so
diff --git a/target/product/gsi/34.txt b/target/product/gsi/34.txt
index ceb2060..2c90104 100644
--- a/target/product/gsi/34.txt
+++ b/target/product/gsi/34.txt
@@ -16,6 +16,7 @@ LLNDK: libmediandk.so
 LLNDK: libnativewindow.so
 LLNDK: libneuralnetworks.so
 LLNDK: libselinux.so
+LLNDK: libselinux_stubs.so
 LLNDK: libsync.so
 LLNDK: libvndksupport.so
 LLNDK: libvulkan.so
diff --git a/target/product/gsi/current.txt b/target/product/gsi/current.txt
index f771916..3e52a28 100644
--- a/target/product/gsi/current.txt
+++ b/target/product/gsi/current.txt
@@ -17,6 +17,7 @@ LLNDK: libmediandk.so
 LLNDK: libnativewindow.so
 LLNDK: libneuralnetworks.so
 LLNDK: libselinux.so
+LLNDK: libselinux_stubs.so
 LLNDK: libsync.so
 LLNDK: libvendorsupport.so
 LLNDK: libvndksupport.so
-- 
2.45.2

